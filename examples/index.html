<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Peekaboo</title>
    <link rel="stylesheet" href="../bower_components/tct-foundation/dist/tct-foundation.css">
    <script type="text/javascript" src="../bower_components/modernizr/modernizr.js"></script>
  </head>
  <body>

    <nav class="top-bar docs-bar" data-topbar>
      <ul class="title-area">
        <li class="name">
          <h1><a href="/">The Cocktail <span>Toolbox</span></a></h1>
        </li>
      </ul>
      <section class="top-bar-section">
        <ul class="right">
          <li class="divider"></li>
          <li class="has-form">
            <a href="http://foundation.zurb.com/docs" class="small button">Getting Started</a>
          </li>
        </ul>
      </section>
    </nav>
    
    <article class="row">
      <header class="large-12 columns">
        <h1>Peekaboo</h1>
      </header>
      <aside class="medium-3 columns">
        <nav>
          <ul class="side-nav">
            <li><a href="#installation">Installation</a></li>
            <li><a href="#usage">Usage</a></li>
          </ul>
        </nav>
      </aside>
      <section class="medium-9 columns">
        
        <p>Check if DOM elements are currently visible in the viewport. Useful for playing videos or animations only when the user is truly looking at them.</p>
        <hr>

        <section id="instalation">
          <h2>Installation</h2>
          <ol>
            <li>
              <p>Download from <a href="https://github.com/the-cocktail/TCToolbox/archive/Peekaboo.zip">github</a> or install via bower with <code>bower install the-cocktail/TCToolbox#tct-foundation --save</code>
              </p>
            </li>
            <li>
              <p>Include Peekaboo and it's dependencies in your site:</p>
              <pre class="prettyprint"><code>...
    &lt;script src="jquery.js"&gt;&lt;/script&gt;
    &lt;script src="underscore.js"&gt;&lt;/script&gt;
    &lt;script src="Peekaboo.js"&gt;&lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
            </li>
          </ol>   
        </section>
        <hr>
        <section id="usage">
          <h2>Basic usage</h2>
          <dl class="tabs" data-tab="">
            <dd class="active"><a href="#usage-html">HTML</a></dd>
            <dd><a href="#usage-js">JS</a></dd>
          </dl>
          <div class="tabs-content">
            <div class="content active" id="usage-html">
              <pre class="prettyprint"><code>...
&lt;div id='chart'&gt;
  &lt;!-- Content --&gt;
&lt;/div&gt;
...</code></pre>
            </div>
            <div class="content" id="usage-js">
              <pre class="prettyprint"><code>Peekaboo.instance() // Retrieve the Peekaboo instance
  .register("#chart") // Register the #chart element

// Subscribe to Peekaboo.STATE_CHANGE_EVENT
$("#chart").on(Peekaboo.STATE_CHANGE_EVENT, function(e){
  // Respond to state change
})

Peekaboo.start() // Initialize Peekaboo instance
</code></pre>
            </div>
          </div>
        </section>
        <hr>

        <section id="api">
          <h2>API</h2>
          <ul>
            <li>
              <h3 class="subheader">Peekaboo.instance().register(element, options)</h3>
              <dl class="tabs" data-tab="">
                <dd class="active"><a href="#api-register-overview">Overview</a></dd>
                <dd><a href="#api-register-example">Example</a></dd>
                <dd><a href="#api-register-options">Options</a></dd>
              </dl>
              <div class="tabs-content">
                <div class="content active" id="api-register-overview">
                  <p>Register element into Peekaboo.</p>
                  <p>Registered elements will fire events of typePeekaboo.STATE_CHANGE_EVENT ("peekaboo_state_change") whenever they become visible or hidden.</p>
                  <table>
                    <thead>
                      <tr>
                        <td>Argument</td>
                        <td>Type</td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <td>element</td>
                        <td>Selector, HTMLElement or jQuery object</td>
                      </tr>
                      <tr>
                        <td>options</td>
                        <td>Configuration options.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
                <div class="content" id="api-register-example">
                  <pre class="prettyprint"><code>Peekaboo.instance().register("#element",{
  offsetTop: 100
})</code></pre>
                </div>
                <div class="content" id="api-register-options">
                  <table>
                    <thead>
                      <tr>
                        <th>Parameter</th>
                        <th>Type</th>
                        <th>Default</th>
                        <th>Description</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th>offsetTop</th>
                        <td>Number</td>
                        <td>0</td>
                        <td>Distance from the beginning of the element. Can be negative.</td>
                      </tr>
                      <tr>
                        <th>offsetBottom</th>
                        <td>Number</td>
                        <td>0</td>
                        <td>Distance from the end of the element. Can be negative.</td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </li>
            <li>
              <h3 class="subheader">Peekaboo.instance().start()</h3>
              <dl class="tabs" data-tab="">
                <dd class="active"><a href="#api-start-overview">Overview</a></dd>
                <dd><a href="#api-start-example">Example</a></dd>
              </dl>
              <div class="tabs-content">
                <div class="content active" id="api-start-overview">
                  <p>Start listening for scroll and resizing events.</p>
                  <p>Once started, the registered HTML elements will start firing events of type Peekaboo.STATE_CHANGE_EVENT. </p>
                </div>
                <div class="content" id="api-start-example">
                  <pre class="prettyprint"><code>Peekaboo.instance().start()</code></pre>
                </div>
              </div>
            </li>
            <li>
              <h3 class="subheader">Peekaboo.instance().stop()</h3>
              <dl class="tabs" data-tab="">
                <dd class="active"><a href="#api-stop-overview">Overview</a></dd>
                <dd><a href="#api-stop-example">Example</a></dd>
              </dl>
              <div class="tabs-content">
                <div class="content active" id="api-stop-overview">
                  <p>Stop listening for scroll and resizing events.</p>
                  <p>After calling this method, the registered HTML elements will stop firing events of type Peekaboo.STATE_CHANGE_EVENT.</p>
                  <p>Stopping Peekaboo, doesn't unregister the elements.</p>
                </div>
                <div class="content" id="api-stop-example">
                  <pre class="prettyprint"><code>Peekaboo.instance().stop()</code></pre>
                </div>
              </div>              
            </li>
          </ul>
        </section>
        <hr>
        <section id="events">
          <h2>Events</h2>
          <ul>
            <li>
              <h3 class="subheader">Peekaboo.STATE_CHANGE_EVENT <small>("peekaboo_state_change")</small></h3>
              <p>Event fired whenever an element change from visible to hidden and viceversa.</p>
              <table>
                <thead>
                  <tr>
                    <th>Parameter</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <th>state</th>
                    <td>String</td>
                    <td>Current state of the HTML element. Either "visibe" or "hidden"</td>
                  </tr>
                  <tr>
                    <th>scroll</th>
                    <td>Number</td>
                    <td>Current scroll position</td>
                  </tr>
                  <tr>
                    <th>prevScroll</th>
                    <td>Number</td>
                    <td>Previous scroll position</td>
                  </tr>
                  <tr>
                    <th>direction</th>
                    <td>String</td>
                    <td>Wheter the scroll direction is "up" or "down"</td>
                  </tr>
                </tbody>
              </table>
            </li>
          </ul>
        </section>
      </section>
    </article>    
    <script type="text/javascript" src="../bower_components/jquery/dist/jquery.js"></script> 
    <script type="text/javascript" src="../bower_components/foundation/js/foundation.js"></script>
    <script type="text/javascript" src="../bower_components/prettify/bin/run_prettify.min.js"></script> 

    <script type="text/javascript" src="../bower_components/tct-foundation/dist/tct-foundation.js"></script> 
  </body>
</html>